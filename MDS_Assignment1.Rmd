---
title: 'Malaria Data Science: Assignment on data management in R'
author: "Student name"
date: "2024-01-10"
output: pdf_document
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)
```

## Assignment:

This assignment consists of performing data cleaning and manipulation, and then some statistical analysis. Replace `your code` by your `own code`. Don't use the command `View` in chunks but instead use `head` in case you want to visualize a table (You can simply click on the data name in the environment).

## Dataset:

The dataset is retrieved from Rwanda DHS 2020. The type of dataset used here is Household member, You will get data in two files; main SPSS File and Map File that contains the dictionary. You can access the dictionary using the command `readLines`. Comment back the following chunk before knitting your final document for the submission to prevent it to display the dictionary in the final document.

```{r}
# readLines("RWPR81FL.MAP")
```


Your Assignments steps:


## Reading Dataset

1. Read the dataset in R.

```{r}
# required packages
# your code
# import data
data <- NULL # replace NULL by the code that will read and import data.

dim(data)
```

2. Visualize, inspect and get familiar with the data
```{r}
# your code
```


3. Select only few columns, important in this Assignments. They are the following: "HV001", "HV009", "HV010", "HV011", "HV014", "SHDISTRICT", "HV024", "HV025", "HV040", "HV227", "HV228", "HV270", "HV105", "HV106", "HML3", "HML4", "HML7", "HML10", "HML22", "HML32","HML33", "HML35"

```{r}
# your code
```

  
4. Rename variables using the variable descriptions below. Give meaningful (short) names to the variables chosen in 3.

>* HV001= "Cluster number", 
>* HV009 = "Number of household members",
>* HV010 = "Number of eligible women in household",
>* HV011 = "Number of eligible men in household",
>* HV014 = "Number of children 5 and under (de jure)",
>* SHDISTRICT = "District (geographic area)",
>* HV024 = "Region (provinces, corresponding values in a map file)",
>* HV025 = "Type of place of residence (rural versus urban)",
>* HV040 = "Cluster altitude in meters",
>* HV227 = "Presence of mosquito bed net for sleeping",
>* HV228 = "Number of children under 5 who slept under a mosquito bed net",
>* HV270 = "Wealth index combined (an index based on various household assets indicating socio-economic status)",
>* HV105 = "Age of household members",
>* HV106 = "Highest educational level attained by individuals",
>* HML3 = "Net observed by interviewer",
>* HML4 = "Months ago the net was obtained",
>* HML7 = "Brand of net",
>* HML10 = "Insecticide-Treated Net (ITN)",
>* HML22 = "Obtained net from campaign, antenatal, or immunization visit",
>* HML33= "Result of malaria measurement", 
>* HML32 = "Final result of malaria from blood smear test",
>* HML35 = "Result of malaria rapid test"

## Data cleaning

1. Inspect each variables, decode variable to its original unique variables. 
Example, Variable "HV024"(Region) has Unique values 1, 2, 3, 4 and 5. Decode it to original Region Kigali, South, West, North, East
Use Map file to see the description of each values in data. 

```{r}
# your code
```


2. Handling Missing Values:

Determine columns with missing values. Devise the strategy to handle missing values: Deleting missing values, replacing missing values with mean or mode.
```{r}
# your code
```


3. Create new variables

>a. Create variable called "Old Mosquito" variable HML4 (Months ago the net was obtained).The created variable must binary with 1 when mosquito is more than 24 months old. 
>b. Create Variable "Average District altitude". Create this variable by averaging cluster altitude in each district. We have three variables HV001= "Cluster number", SHDISTRICT = "District (geographic area)" and HV040 = "Cluster altitude in meters". Filter out clusters in each district, do mean of cluster altitude in that district. 

## Data_visuals: 

Produce visualization of your choice. At least each of these
- Bar plot
```{r}
# your code
```

- Pie plot
```{r}
# your code
```

- Histogram
```{r}
# your code
```

- Boxplot
```{r}
# your code
```


## Statistical analysis

### Descriptive statistics

1. Use Variable "HML33" to filter out people who had Malaria measurement. 
```{r}
# your code
```

2. Calculate Malaria Prevalence for both "Blood Smear" and "Rapid Test"
```{r}
# your code
```

3. Aggregate Prevalence at district Level
```{r}
# your code
```

### Analytical Analysis
1. Compare the prevalence in both tests and state if they are different.
```{r}
# your code
```


2. Using a statistical model of your choice, determine if there is a relationship between malaria prevalence in a district and its average altitude. 
```{r}
# your code
```